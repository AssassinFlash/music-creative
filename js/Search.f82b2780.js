(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Search"],{"1c11":function(e,t,n){"use strict";n("658a")},2532:function(e,t,n){"use strict";var s=n("23e7"),a=n("5a34"),c=n("1d80"),i=n("577e"),r=n("ab13");s({target:"String",proto:!0,forced:!r("includes")},{includes:function(e){return!!~i(c(this)).indexOf(i(a(e)),arguments.length>1?arguments[1]:void 0)}})},"2d3b":function(e,t,n){"use strict";n.r(t);var s=n("7a23"),a={id:"searchPage"},c={class:"searchPage"};function i(e,t,n,i,r,o){var d=Object(s["L"])("searchTop");return Object(s["E"])(),Object(s["h"])("div",a,[Object(s["i"])("div",c,[Object(s["l"])(d)])])}Object(s["H"])("data-v-3326e0ea");var r={id:"searchTop"},o={class:"searchTop animate__animated animate__slideInUp"},d={class:"topNav"},l=Object(s["i"])("svg",{class:"icon","aria-hidden":"true"},[Object(s["i"])("use",{"xlink:href":"#icon-prev"})],-1),u=[l],h={class:"right"},b=["placeholder"],O={class:"history"},j=Object(s["i"])("div",{class:"historyLeft"},"历史",-1),g={class:"historyRight"},v=["onClick"],p={key:0,class:"songList animate__animated animate__slideInUp"},f={class:"songList-top"},y={class:"left"},w=Object(s["i"])("svg",{class:"icon","aria-hidden":"true"},[Object(s["i"])("use",{"xlink:href":"#icon-bofang"})],-1),m={class:"songCount"},k=Object(s["i"])("span",{class:"s-title"},"播放全部",-1),S={class:"s-count"},L={class:"list"},x=["onClick"],C={class:"left"},K={class:"index"},I={class:"content"},E={class:"song-title"},_={class:"song-author"},T=Object(s["j"])('<div class="right" data-v-3326e0ea><svg class="icon" aria-hidden="true" data-v-3326e0ea><use xlink:href="#icon-bofang1" data-v-3326e0ea></use></svg><svg class="icon" aria-hidden="true" data-v-3326e0ea><use xlink:href="#icon-sandian1" data-v-3326e0ea></use></svg></div>',1);function P(e,t,n,a,c,i){var l=Object(s["L"])("LottieLoading");return Object(s["E"])(),Object(s["h"])("div",r,[Object(s["i"])("div",o,[Object(s["i"])("div",d,[Object(s["i"])("div",{class:"back",onClick:t[0]||(t[0]=function(t){return e.$router.go(-1)})},u),Object(s["i"])("div",h,[Object(s["U"])(Object(s["i"])("input",{type:"text",placeholder:c.placeholder,"onUpdate:modelValue":t[1]||(t[1]=function(e){return c.searchKeywords=e}),onKeydown:t[2]||(t[2]=Object(s["V"])((function(){return i.saveKeywords&&i.saveKeywords.apply(i,arguments)}),["enter"]))},null,40,b),[[s["Q"],c.searchKeywords]])])]),Object(s["i"])("div",O,[j,Object(s["i"])("div",g,[(Object(s["E"])(!0),Object(s["h"])(s["a"],null,Object(s["K"])(c.keywordList,(function(e,t){return Object(s["E"])(),Object(s["h"])("div",{class:"keywordItem",key:t,onClick:function(t){return i.autoSearch(e)}},Object(s["O"])(e),9,v)})),128))])]),c.isShow?(Object(s["E"])(),Object(s["h"])("div",p,[Object(s["i"])("div",f,[Object(s["i"])("div",y,[w,Object(s["i"])("div",m,[k,Object(s["i"])("span",S,"(共"+Object(s["O"])(c.songCount)+"首)",1)])])]),Object(s["i"])("div",L,[e.$store.state.loading?(Object(s["E"])(),Object(s["f"])(l,{key:0})):Object(s["g"])("",!0),(Object(s["E"])(!0),Object(s["h"])(s["a"],null,Object(s["K"])(c.playlist,(function(e,t){return Object(s["E"])(),Object(s["h"])("div",{class:"songItem",key:t,onClick:function(n){return i.getControllerFullSongs(e.id,t)}},[Object(s["i"])("div",C,[Object(s["i"])("p",K,Object(s["O"])(t+1),1),Object(s["i"])("div",I,[Object(s["i"])("p",E,Object(s["O"])(e.name),1),Object(s["i"])("p",_,Object(s["O"])(i.author(e.ar))+" - "+Object(s["O"])(e.name),1)])]),T],8,x)})),128))])])):Object(s["g"])("",!0)])])}Object(s["F"])();var J=n("1da1"),R=n("5530"),$=(n("96cf"),n("caad"),n("2532"),n("4160"),n("159b"),n("fb6a"),n("7a5c")),N=n("986e"),U=n("f96a"),F=n("5502"),V={name:"SearchTop",components:{LottieLoading:U["a"]},data:function(){return{placeholder:"输入要搜寻的关键词",searchKeywords:"",keywordList:[],isShow:!1,playlist:[{}],songCount:0}},beforeMount:function(){this.keywordList=window.localStorage.getItem("keywordList")?JSON.parse(window.localStorage.getItem("keywordList")):[]},methods:Object(R["a"])(Object(R["a"])({},Object(F["b"])(["setPlaylist","setSongId","setPlayCurrentIndex"])),{},{saveKeywords:function(){var e=this;return Object(J["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.keywordList.length>=1?(n=e.keywordList.includes(e.searchKeywords),n||(e.keywordList.push(e.searchKeywords),window.localStorage.setItem("keywordList",JSON.stringify(e.keywordList)))):(e.keywordList.push(e.searchKeywords),window.localStorage.setItem("keywordList",JSON.stringify(e.keywordList))),t.next=3,e.loadSearchSong(e.searchKeywords);case 3:case"end":return t.stop()}}),t)})))()},loadSearchSong:function(){var e=Object(J["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.$store.commit("setLoading",!0),e.next=3,Object($["f"])(t);case 3:n=e.sent,this.playlist=n.data.result.songs,this.songCount=n.data.result.songCount,this.isShow=!0,this.$store.commit("setLoading",!1),console.log(n.data);case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),author:function(e){var t="";return e.forEach((function(e){t+=e.name+"、"})),t=t.slice(0,t.length-1),t},getControllerFullSongs:function(e,t){this.setPlaylist(this.playlist),this.setSongId(e),this.setPlayCurrentIndex(t),this.$store.dispatch("reqLyric",e),N["a"].emit("updateController")},autoSearch:function(e){this.searchKeywords=e,this.loadSearchSong(e)}})};n("1c11");V.render=P,V.__scopeId="data-v-3326e0ea";var q=V,A={name:"Search",components:{searchTop:q}};A.render=i;t["default"]=A},"5a34":function(e,t,n){var s=n("44e7");e.exports=function(e){if(s(e))throw TypeError("The method doesn't accept regular expressions");return e}},"658a":function(e,t,n){},ab13:function(e,t,n){var s=n("b622"),a=s("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[a]=!1,"/./"[e](t)}catch(s){}}return!1}},caad:function(e,t,n){"use strict";var s=n("23e7"),a=n("4d64").includes,c=n("44d2");s({target:"Array",proto:!0},{includes:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),c("includes")}}]);
//# sourceMappingURL=Search.f82b2780.js.map