(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Search"],{"0446":function(e,t,n){"use strict";n("f790")},2532:function(e,t,n){"use strict";var i=n("23e7"),s=n("5a34"),c=n("1d80"),r=n("577e"),a=n("ab13");i({target:"String",proto:!0,forced:!a("includes")},{includes:function(e){return!!~r(c(this)).indexOf(r(s(e)),arguments.length>1?arguments[1]:void 0)}})},"2d3b":function(e,t,n){"use strict";n.r(t);var i=n("7a23"),s={id:"searchPage"},c={class:"searchPage"};function r(e,t,n,r,a,o){var d=Object(i["L"])("searchTop");return Object(i["E"])(),Object(i["h"])("div",s,[Object(i["i"])("div",c,[Object(i["l"])(d)])])}Object(i["H"])("data-v-6745831c");var a={id:"searchTop"},o={class:"searchTop animate__animated animate__slideInUp"},d={class:"topNav"},l=Object(i["i"])("svg",{class:"icon","aria-hidden":"true"},[Object(i["i"])("use",{"xlink:href":"#icon-prev"})],-1),u=[l],h={class:"right"},b=["placeholder"],O={class:"history"},j=Object(i["i"])("div",{class:"historyLeft"},"历史",-1),g={class:"historyRight"},p=["onClick"],v={key:1,class:"songList animate__animated animate__slideInUp"},f={class:"songList-top"},w={class:"left"},y=Object(i["i"])("svg",{class:"icon","aria-hidden":"true"},[Object(i["i"])("use",{"xlink:href":"#icon-bofang"})],-1),m={class:"songCount"},k=Object(i["i"])("span",{class:"s-title"},"播放全部",-1),S={class:"s-count"},L={class:"list"},C=["onClick"],x={class:"left"},K={class:"index"},I={class:"content"},E={class:"song-title"},_={class:"song-author"},$={class:"right"},T=["onClick"],P=Object(i["i"])("svg",{class:"icon","aria-hidden":"true"},[Object(i["i"])("use",{"xlink:href":"#icon-bofang1"})],-1),R=[P],J=Object(i["i"])("div",{class:"songMore"},[Object(i["i"])("svg",{class:"icon","aria-hidden":"true"},[Object(i["i"])("use",{"xlink:href":"#icon-sandian1"})])],-1);function M(e,t,n,s,c,r){var l=Object(i["L"])("LottieLoading");return Object(i["E"])(),Object(i["h"])("div",a,[Object(i["i"])("div",o,[Object(i["i"])("div",d,[Object(i["i"])("div",{class:"back",onClick:t[0]||(t[0]=function(t){return e.$router.go(-1)})},u),Object(i["i"])("div",h,[Object(i["U"])(Object(i["i"])("input",{type:"text",placeholder:c.placeholder,"onUpdate:modelValue":t[1]||(t[1]=function(e){return c.searchKeywords=e}),onKeydown:t[2]||(t[2]=Object(i["V"])((function(){return r.saveKeywords&&r.saveKeywords.apply(r,arguments)}),["enter"]))},null,40,b),[[i["Q"],c.searchKeywords]])])]),Object(i["i"])("div",O,[j,Object(i["i"])("div",g,[(Object(i["E"])(!0),Object(i["h"])(i["a"],null,Object(i["K"])(c.keywordList,(function(e,t){return Object(i["E"])(),Object(i["h"])("div",{class:"keywordItem",key:t,onClick:function(t){return r.autoSearch(e)}},Object(i["O"])(e),9,p)})),128))])]),Object(i["i"])("div",null,[e.$store.state.loading?(Object(i["E"])(),Object(i["f"])(l,{key:0})):Object(i["g"])("",!0),c.isShow?(Object(i["E"])(),Object(i["h"])("div",v,[Object(i["i"])("div",f,[Object(i["i"])("div",w,[y,Object(i["i"])("div",m,[k,Object(i["i"])("span",S,"(共"+Object(i["O"])(c.songCount)+"首)",1)])])]),Object(i["i"])("div",L,[(Object(i["E"])(!0),Object(i["h"])(i["a"],null,Object(i["K"])(c.playlist,(function(e,t){return Object(i["E"])(),Object(i["h"])("div",{class:"songItem",key:t,onClick:function(n){return r.getControllerFullSongs(e.id,t)}},[Object(i["i"])("div",x,[Object(i["i"])("p",K,Object(i["O"])(t+1),1),Object(i["i"])("div",I,[Object(i["i"])("p",E,Object(i["O"])(e.name),1),Object(i["i"])("p",_,Object(i["O"])(r.author(e.ar))+" - "+Object(i["O"])(e.name),1)])]),Object(i["i"])("div",$,[Object(i["U"])(Object(i["i"])("div",{class:"mv",onClick:function(t){return r.goMv(e.mv)}},R,8,T),[[i["R"],0!==e.mv]]),J])],8,C)})),128))])])):Object(i["g"])("",!0)])])])}Object(i["F"])();var U=n("1da1"),N=n("5530"),F=(n("96cf"),n("caad"),n("2532"),n("4160"),n("159b"),n("fb6a"),n("7a5c")),V=n("986e"),q=n("f96a"),A=n("5502"),H={name:"SearchTop",components:{LottieLoading:q["a"]},data:function(){return{placeholder:"输入要搜寻的关键词",searchKeywords:"",keywordList:[],isShow:!1,playlist:[{}],songCount:0}},beforeMount:function(){this.$route.params.name&&this.autoSearch(this.$route.params.name),this.keywordList=window.localStorage.getItem("keywordList")?JSON.parse(window.localStorage.getItem("keywordList")):[]},methods:Object(N["a"])(Object(N["a"])({},Object(A["b"])(["setPlaylist","setSongId","setPlayCurrentIndex"])),{},{saveKeywords:function(){var e=this;return Object(U["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.keywordList.length>=1?(n=e.keywordList.includes(e.searchKeywords),n||(e.keywordList.push(e.searchKeywords),window.localStorage.setItem("keywordList",JSON.stringify(e.keywordList)))):(e.keywordList.push(e.searchKeywords),window.localStorage.setItem("keywordList",JSON.stringify(e.keywordList))),t.next=3,e.loadSearchSong(e.searchKeywords);case 3:case"end":return t.stop()}}),t)})))()},loadSearchSong:function(){var e=Object(U["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.$store.commit("setLoading",!0),e.next=3,Object(F["k"])(t);case 3:n=e.sent,this.playlist=n.data.result.songs,this.songCount=n.data.result.songCount,this.isShow=!0,this.$store.commit("setLoading",!1);case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),author:function(e){var t="";return e.forEach((function(e){t+=e.name+"、"})),t=t.slice(0,t.length-1),t},getControllerFullSongs:function(e,t){this.setPlaylist(this.playlist),this.setSongId(e),this.setPlayCurrentIndex(t),this.$store.dispatch("reqLyric",e),V["a"].emit("updateController")},autoSearch:function(e){this.searchKeywords=e,this.loadSearchSong(e)},goMv:function(e){this.$router.push({name:"MvView",params:{id:e}})}})};n("0446");H.render=M,H.__scopeId="data-v-6745831c";var Q=H,z={name:"Search",components:{searchTop:Q}};z.render=r;t["default"]=z},"5a34":function(e,t,n){var i=n("44e7");e.exports=function(e){if(i(e))throw TypeError("The method doesn't accept regular expressions");return e}},ab13:function(e,t,n){var i=n("b622"),s=i("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[s]=!1,"/./"[e](t)}catch(i){}}return!1}},caad:function(e,t,n){"use strict";var i=n("23e7"),s=n("4d64").includes,c=n("44d2");i({target:"Array",proto:!0},{includes:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}}),c("includes")},f790:function(e,t,n){}}]);
//# sourceMappingURL=Search.10f675da.js.map